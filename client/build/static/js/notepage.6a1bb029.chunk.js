"use strict";(self.webpackChunkts_mern_note_app_frontend=self.webpackChunkts_mern_note_app_frontend||[]).push([[656],{8761:function(n,e,t){var r,o,i,a,s,c=t(168),l=t(2791),d=t(5751),u=t(184),m=(0,l.memo)((function(n){var e=n.children,t=n.no_bg,r=n.mode,o=n.handleSubmit,i=n.styles,a=n.animate;return(0,u.jsx)(f,{onSubmit:function(n){n.preventDefault(),o&&o(n)},style:i,no_bg:t,mode:r,animate:a,children:e})}));e.Z=m;var f=d.ZP.form(r||(r=(0,c.Z)(["\n    height:45rem;\n    width:90%;\n    display:flex;\n    align-items:center;\n    flex-direction:column;\n    max-width:35rem;\n    background:var(--form-bg);\n\n    ","\n    ","\n    button{\n        margin-top:auto   //button will be at the bottom of the form\n    }\n\n    /* animate flag */\n    ","\n\n    @keyframes animate_form{\n        0%{\n            opacity:0;\n            transform:translateX(-100%);\n        }\n        50%{\n            transform:translateX(50%);\n        }\n    }\n\n"])),(function(n){var e=n.mode;return"login"===e||"register"===e?(0,d.iv)(o||(o=(0,c.Z)(["\n                margin: auto;\n                max-width:40rem;\n                margin-top:5rem;\n                border-radius:0.5rem;\n                box-shadow:0 0.2rem 0.2rem rgba(0,0,0,0.3);\n                padding-inline:2rem;\n                padding-block:2rem;\n                //heading of the form\n                >h3{\n                    margin-block-end:2rem;\n                }\n            "]))):"create_note"===e?(0,d.iv)(i||(i=(0,c.Z)(["\n                height:25rem;\n                @media (min-width:700px){\n                    height:50rem;\n                }\n            "]))):void 0}),(function(n){if(!0===n.no_bg)return(0,d.iv)(a||(a=(0,c.Z)(["\n            background:inherit;\n        "])))}),(function(n){if(n.animate)return(0,d.iv)(s||(s=(0,c.Z)(["\n                animation:animate_form 0.4s ease-in forwards;\n            "])))}))},1967:function(n,e,t){var r,o=t(168),i=t(2791),a=t(5751),s=t(184),c=(0,i.memo)((function(n){var e=n.children,t=n.styles;return(0,s.jsx)(l,{style:t,children:e})}));e.Z=c;var l=a.ZP.section(r||(r=(0,o.Z)(["\n    display:flex;\n    flex-direction:column;\n    flex-wrap:wrap;\n\n    @media (min-width:700px){\n        flex-direction:unset;\n    }\n"])))},7042:function(n,e,t){var r,o=t(168),i=t(5751),a=t(184);e.Z=function(n){var e=n.children,t=n.cls;return(0,a.jsx)(s,{className:"overlay-menu "+t,children:e})};var s=i.ZP.div(r||(r=(0,o.Z)(["\n    display:flex;\n    align-items:center;\n    justify-content:space-around;\n    flex-direction:row;\n"])))},6991:function(n,e,t){var r,o,i,a,s,c,l,d=t(168),u=t(2791),m=t(5751),f=t(184),v=(0,u.memo)((function(n){var e=n.children,t=n.styles,r=n.mode,o=n.cls;return(0,f.jsx)(h,{mode:r,style:t,className:(r||"")+" "+(o||""),children:e})}));e.Z=v;var h=m.ZP.section(r||(r=(0,d.Z)(["\n    display:flex;\n    overflow:hidden;\n    position:relative;\n\n    ","\n\n    img{\n        display:flex;\n        width:clamp(23rem, 28rem, 28vw);\n        height:clamp(28rem, 32rem, 32vw);\n        transform:rotate(-20deg) scale(0.8);\n        transform-origin:center;\n    }\n"])),(function(n){switch(n.mode){case"hero":return(0,m.iv)(o||(o=(0,d.Z)(["\n                width:100%;\n                align-items:center;\n                justify-content:center;\n                transform-origin:center;\n                flex-direction:column;\n                text-align:center;\n                padding:2rem;\n                /* animation the every children in hero section */\n                @keyframes animateLoad {\n                    0%{\n                        transform: rotate(15deg) translateY(300%) scale(0.9);\n                        opacity: 0;\n                    }\n                    70%{\n                        transform: rotate(0) translateY(-50%) scale(1.1);\n                    }\n                    100%{ }\n                }\n                @media (min-width:700px){\n                    width:50%;\n                }\n            "])));case"create_note_container":return(0,m.iv)(i||(i=(0,d.Z)(["\n                padding:2rem;\n                justify-content:center;\n                margin-bottom:3rem;\n                button{\n                    width:100%;\n                }\n\n                @media (min-width:700px){\n                    margin-bottom:0rem;\n                        border-right:var(--border);\n                        height:100%;\n                        position:fixed;\n                        width:var(--width);\n                    }\n            "])));case"notes_container_wrapper":return(0,m.iv)(a||(a=(0,d.Z)(["\n                flex-direction:column;\n                @media (min-width:700px){\n                    position:relative;\n                    left:var(--width);\n                    width:calc(100% - var(--width));\n                }\n            "])));case"notes_container":return(0,m.iv)(s||(s=(0,d.Z)(["\n                justify-content:center;\n                gap:3rem;\n                padding:2rem;\n                flex-wrap:wrap;\n                @media (min-width:700px){\n                    justify-content:space-around;\n                }\n            "])));case"edit_note":return(0,m.iv)(c||(c=(0,d.Z)(["\n                width:100%;\n                height:100%;\n                top:0 !important;\n                inset:0;\n                position:fixed;\n                align-items:center;\n                justify-content:center;\n                background:var(--edit-modal-bg);\n                display:none;\n                border-radius:0.5rem;\n            "])));default:return(0,m.iv)(l||(l=(0,d.Z)(["\n            "])))}}))},6310:function(n,e,t){var r,o=t(168),i=t(5751),a=t(184);e.Z=function(n){var e=n.children,t=n.handleClick;return(0,a.jsx)(s,{onClick:t,children:e})};var s=i.ZP.div(r||(r=(0,o.Z)(["\n    position:relative;\n    overflow:none;\n    cursor: pointer;\n\n    >p{\n        position:absolute;\n        top:100%;\n        pointer-events:none;\n        opacity:0;\n        pointer-events:none;\n        font-size:clamp(1.3rem, 1.4rem, 1.4vw);\n    }\n\n    &:hover{\n        >p{        //displaying tooltip text on hover\n            animation:show 3s ease both;\n        }\n    }\n    .clr-list{\n        opacity:0;\n        pointer-events:none;\n    }\n\n    &:focus-within, &:focus{\n        .clr-list{\n            opacity:1;\n            pointer-events:all;\n        }\n    }\n\n"])))},3282:function(n,e,t){var r,o=t(168),i=t(2791),a=t(5751),s=t(184),c=(0,i.memo)((function(n){var e=n.text,t=n.styles;return(0,s.jsx)(l,{style:t,children:e})}));e.Z=c;var l=a.ZP.p(r||(r=(0,o.Z)(["\n    font-size:clamp(1.4rem, 1.5rem ,1.5vw);\n    opacity:0.8;\n    white-space:pre-line;\n    word-break:break-all;\n    margin-top:1rem;\n"])))},8094:function(n,e,t){var r,o=t(168),i=t(5751),a=t(184);e.Z=function(n){var e=n.error;return(0,a.jsx)(s,{children:e})};var s=i.ZP.p(r||(r=(0,o.Z)(["\n    color:red;\n    font-size:clamp(1.6rem,1.7rem,1.7vw);\n"])))},9719:function(n,e,t){var r,o=t(168),i=t(2791),a=t(5751),s=t(184),c=(0,i.memo)((function(n){var e=n.text,t=n.styles,r=n.handleClick,o=n.cls;return(0,s.jsx)(l,{style:t,onClick:r,className:o,children:e})}));e.Z=c;var l=a.ZP.h3(r||(r=(0,o.Z)(["\n    font-size:2.2rem;\n"])))},8197:function(n,e,t){var r=t(6412),o=t(184);e.Z=function(){var n=(0,r.oe)().dark_theme;return(0,o.jsx)("div",{children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:n?"hsl(0, 0%, 80%)":"hsl(0, 0%, 10%)",children:[(0,o.jsx)("path",{d:"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67A2.5 2.5 0 0 1 12 22zm0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5a.54.54 0 0 0-.14-.35c-.41-.46-.63-1.05-.63-1.65a2.5 2.5 0 0 1 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7z"}),(0,o.jsx)("circle",{cx:"6.5",cy:"11.5",r:"1.5"}),(0,o.jsx)("circle",{cx:"9.5",cy:"7.5",r:"1.5"}),(0,o.jsx)("circle",{cx:"14.5",cy:"7.5",r:"1.5"}),(0,o.jsx)("circle",{cx:"17.5",cy:"11.5",r:"1.5"})]})})}},2677:function(n,e,t){var r=t(1413),o=t(5861),i=t(7757),a=t.n(i),s=t(2791),c=t(9271),l=t(5404);e.Z=function(n){var e=n.auth,i=void 0!==e&&e,d=(0,l.X)().setUser,u=(0,c.k6)();(0,s.useEffect)((function(){(0,o.Z)(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(769).then(t.bind(t,769));case 2:return n.next=4,n.sent.default();case 4:e=n.sent,(i&&null!==e&&void 0!==e&&e._id||(null===e||void 0===e?void 0:e._id))&&d((function(n){return(0,r.Z)((0,r.Z)({},n),{},{_id:e._id,email:null===e||void 0===e?void 0:e.email})})),i&&(null===e||void 0===e||!e._id)&&u.push("/login");case 7:case"end":return n.stop()}}),n)})))()}),[d,u,i])}},7894:function(n,e,t){t.r(e),t.d(e,{default:function(){return fn},useEditNoteCtx:function(){return mn}});var r,o,i,a,s,c,l,d,u,m=t(1413),f=t(8152),v=t(2791),h=t(1967),p=t(6991),x=t(2677),b=function(n){var e=n._id,t=(0,v.useRef)(e);(0,v.useEffect)((function(){t.current=e}),[e]);var r=(0,v.useCallback)((function(n){var e=document.getElementById("modal"),t=e.parentElement,r=document.getElementById(n).getBoundingClientRect(),o=r.top,i=r.left,a=r.width,s=r.height;e.style.top=o+"px",e.style.left=i+"px",e.style.width=a+"px",e.style.height=s+"px",t.style.display="flex",e.style.display="flex",setTimeout((function(){return document.body.classList.add("edit_mode")}),10)}),[]);return(0,v.useEffect)((function(){e&&r(t.current)}),[e,r]),{enableEditModal:r}},g=t(168),y=t(5751),Z=t(5404),w=t(184),_=(0,v.memo)((function(n){var e=n.placeholder,t=n.name,r=n.value,o=n.handleChange,i=n.mode,a=n.type,s=(0,Z.X)().setSearch,c="search"===a?"search":"text";return(0,w.jsx)(j,{type:c,name:t,value:r,mode:i,onChange:function(n){"search"===t?s(n.target.value):o&&o(n)},placeholder:e})})),j=y.ZP.input(r||(r=(0,g.Z)(["\n    font-size:clamp(1.6rem,1.7rem,1.7vw);\n    border:none;\n    padding:0 1rem;\n    height:3.5rem;\n    background:var(--input-bg);\n    outline:none;\n    border-radius:0.5rem;\n\n    &:focus{\n        background:var(--input-hover-bg) !important;\n        outline:var(--focuse-outline);\n    }\n\n    ","\n"])),(function(n){switch(n.mode){case"edit_note":return(0,y.iv)(o||(o=(0,g.Z)(["\n                background:inherit;\n                border:none;\n                &:focus{\n                    background:none !important;\n                    outline:none;\n                }\n            "])));case"note_title":return(0,y.iv)(i||(i=(0,g.Z)(["\n                width:100%;\n                border:var(--border);\n\n                &:hover{  background: var(--input-hover-bg);  }\n            "])));default:return(0,y.iv)(a||(a=(0,g.Z)(["\n                border:var(--border);\n                &:hover{  background: var(--input-hover-bg);  }\n            "])))}})),k=t(8781),C=t(8094),E=t(8761),N=function(n){var e=n.value,t=n.handleChange,r=n.placeholder,o=n.name,i=n.styles,a=n.hover_bg;return(0,w.jsx)(L,{name:o,value:e,placeholder:r,style:i,hover_bg:a,onChange:function(n){return t&&t(n)}})},L=y.ZP.textarea(s||(s=(0,g.Z)(["\n    width:100%;\n    height:15rem;\n    @media (min-width:700px){\n        flex:1;\n    }\n    margin-bottom:2rem;\n    resize:none;\n    margin-top:1rem;\n    font-size:clamp(1.6rem,1.7rem,1.7vw);\n    border:none;\n    padding:0.5rem 1rem;\n    background:var(--input-bg);\n    border-radius:0.5rem;\n    border:var(--border);\n\n    ","\n\n"])),(function(n){if(n.hover_bg)return(0,y.iv)(c||(c=(0,g.Z)(["\n                /* &:hover{  background: var(--input-hover-bg);  } */\n                &:focus{\n        background:var(--input-hover-bg) !important;\n        outline: var(--focuse-outline);\n    }\n            "])))})),P=t(178),T=t(3439),S=(0,v.memo)((function(){var n=(0,T.Z)(),e=n.loader,t=n.error,r=n.handleNoteSubmit,o=n.handleNoteChange,i=n.note;return(0,w.jsxs)(E.Z,{no_bg:!0,handleSubmit:r,mode:"create_note",children:[(0,w.jsx)(_,{type:"title",name:"title",value:i.title,handleChange:o,placeholder:"note title...",mode:"note_title"}),(0,w.jsx)(N,{name:"content",value:i.content,handleChange:o,placeholder:"type your notes....",hover_bg:!0}),(0,w.jsx)(P.Z,{condition:!!t.err,children:(0,w.jsx)(C.Z,{error:t.err})}),(0,w.jsx)(k.Z,{text:"create note",mode:"create_note_btn",loader:e})]})})),M=t(7042),O=t(6310),R=t(8197),z=t(6412),B=(0,v.memo)((function(n){var e=n.mode,t=mn(),r=t.note,o=t.handleNoteChange,i=(0,z.oe)().dark_theme,a=(0,T.Z)(),s=a.loader,c=a.handleDeleteNote,l=mn().setNoteClrMenuPosition;return"edit_note"===e?(0,w.jsx)(p.Z,{mode:e,cls:"edit_modal_wrapper",children:(0,w.jsxs)(I,{id:"modal",className:"edit_modal",style:{background:i?r.bg[1]:r.bg[0],border:"var(--border)"},children:[(0,w.jsx)(_,{name:"title",value:r.title,handleChange:o,mode:"edit_note"}),(0,w.jsx)(N,{name:"content",value:r.content,handleChange:o,styles:{background:"inherit"}}),(0,w.jsxs)(M.Z,{children:[(0,w.jsx)(O.Z,{handleClick:function(n){l(n,r)},children:(0,w.jsx)(R.Z,{})}),(0,w.jsx)(k.Z,{mode:"delete_note_btn",handleClick:function(){return c({_id:r._id})},loader:s})]})]})}):(0,w.jsx)(w.Fragment,{})})),I=y.ZP.div(l||(l=(0,g.Z)(["\n    height:40rem;\n    width:100%;\n    max-width:60%;\n    border-radius:0.5rem;\n    background:var(--modal-bg);\n    position:fixed;\n    overflow:hidden;\n    box-shadow:0 0.3rem 1rem rgba(0, 0, 0, 0.4);\n    flex-direction:column;\n    border:var(--border);\n    transition:all 0.2s linear;\n\n    input{\n        border-bottom:var(--border);\n    }\n\n    textarea{\n        flex:1;\n        border:none;\n        outline:none;\n    }\n\n    input,textarea{\n        margin-top:0;\n        &:focus{\n            background:inherit;\n        }\n    }\n    input{\n        text-align:center;\n    }\n\n    .btns{\n        margin-top:auto;\n        display:flex;\n        justify-content:space-between;\n        flex-direction:row;\n        padding:2rem;\n    }\n    .save_btn{\n        background:var(--save-btn-bg);\n    }\n    .delete_btn{\n        background:var(--delete-btn-bg);\n    }\n"]))),X=(0,v.memo)((function(n){var e=n.children;return(0,w.jsx)(D,{children:e})})),D=y.ZP.div(d||(d=(0,g.Z)(["\n    display:flex;\n    align-items:center;\n    justify-content:space-around;\n    padding:1rem;\n    border-bottom:var(--border);\n"]))),U=t(3282),H=t(9719),Y=function(n){var e=n.children;return(0,w.jsx)(p.Z,{styles:{height:"90vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:e})},V=t(9482),A=t(9249),q=t(4268),F=function(){var n=(0,Z.X)().user,e=mn().setEditNote,t=(0,v.useCallback)((function(t){if(t.target.classList.contains("note-title")||t.target.classList.contains("note-content")){var r,o=t.target.parentElement.parentElement;o.style.opacity="0";var i=o.id,a=null===(r=n.notes)||void 0===r?void 0:r.filter((function(n){return n._id===i}));a&&e(a[0])}}),[n.notes,e]);return(0,v.useEffect)((function(){var n=setTimeout((function(){return document.body.addEventListener("click",t,!1)}),1e3);return function(){clearTimeout(n),document.body.removeEventListener("click",t,!1)}}),[n.notes,t]),{listenClickEnv:t}},J=(0,v.memo)((function(){var n,e,t,r,o=(0,A.Z)().loader,i=(0,Z.X)(),a=i.user,s=i.search,c=(0,z.oe)().dark_theme,l=null===s||void 0===s?void 0:s.trim().toLowerCase(),d=(0,v.useCallback)((function(n){return n.title.trim().toLowerCase().includes(l)||n.content.trim().toLowerCase().includes(l)}),[l]);return F(),(0,w.jsxs)(p.Z,{mode:"notes_container_wrapper",children:[(0,w.jsx)(P.Z,{condition:0!==(null===(n=a.notes)||void 0===n?void 0:n.length),children:(0,w.jsxs)(X,{children:[(0,w.jsx)(H.Z,{text:"Your notes"}),(0,w.jsx)(_,{type:"search",name:"search",placeholder:"search your notes..."})]})}),(0,w.jsx)(P.Z,{condition:0===(null===(e=a.notes)||void 0===e?void 0:e.length),children:(0,w.jsxs)(Y,{children:[(0,w.jsx)(H.Z,{text:"Haven't created any notes?"}),(0,w.jsx)(U.Z,{text:"Then let's get started. "})]})}),(0,w.jsx)(P.Z,{condition:0!==(null===(t=a.notes)||void 0===t?void 0:t.length),children:(0,w.jsxs)(p.Z,{mode:"notes_container",styles:{minHeight:"calc(100vh - 2 * var(--header-height))"},children:[(0,w.jsx)(P.Z,{condition:o,children:(0,w.jsx)(q.Z,{size:"big"})}),(0,w.jsx)(P.Z,{condition:!o,children:null===(r=a.notes)||void 0===r?void 0:r.map((function(n,e){return n.delete?null:(0,w.jsx)(V.Z,{note:n,styles:{"--note-order":e+1,background:c?n.bg[1]:n.bg[0],display:d(n)?"flex":"none"}},n._id)}))})]})})]})})),G=function(n){var e=n.eventType,t=n.handler,r=n.element,o=void 0===r?window:r,i=(0,v.useRef)(t);(0,v.useEffect)((function(){i.current=t}),[t]),(0,v.useEffect)((function(){var n=function(n){n.target.classList.contains("edit_modal_wrapper")&&document.body.classList.contains("edit_mode")&&i.current()};return null===o||void 0===o||o.addEventListener(e,n,!1),function(){null===o||void 0===o||o.removeEventListener(e,n,!1)}}),[e,o])},K=function(n){var e=n.eventType,t=n.handler,r=n.element,o=(0,v.useRef)(t);(0,v.useEffect)((function(){o.current=t}),[t]),(0,v.useEffect)((function(){var n=function(n){return"Escape"===n.key&&o.current()};return null===r||void 0===r||r.addEventListener(e,n),function(){return null===r||void 0===r?void 0:r.removeEventListener(e,n)}}),[e,r])},Q=t(142),W=function(n){var e=n.element,t=n.element2,r=void 0===t?window:t,o=n.handler,i=n.eventType,a=n.eventType2,s=void 0===a?"keyup":a,c=(0,v.useState)({enable:!1,item:{title:"",content:"",bg:[],_id:""},position:{top:"",left:""}}),l=(0,f.Z)(c,2),d=l[0],u=l[1],m=(0,v.useCallback)((function(n,t){var r=n.currentTarget.getBoundingClientRect(),o=r.top,i=r.left;u({enable:!0,position:{top:o+20+"px",left:i+20+"px"},item:t}),e.classList.add("show_note_menu_overlay")}),[e]),h=(0,v.useRef)(o);return(0,v.useEffect)((function(){h.current=o}),[o]),(0,v.useEffect)((function(){var n=function(n){n.target.classList.contains("overlay")&&(h.current(),e.classList.remove("show_note_menu_overlay"))},t=function(n){"Escape"===n.key&&(h.current(),e.classList.remove("show_note_menu_overlay"))};return d.enable&&(null===e||void 0===e||e.addEventListener(i,n,!1)),d.enable&&(null===r||void 0===r||r.addEventListener(s,t,!1)),!d.enable&&(null===e||void 0===e||e.removeEventListener(i,n,!1)),!d.enable&&(null===r||void 0===r||r.removeEventListener(s,t,!1)),function(){null===e||void 0===e||e.removeEventListener(i,n,!1),null===r||void 0===r||r.removeEventListener(s,t,!1)}}),[i,d.enable,e,r,s]),{setNoteClrMenu:u,menu:d,setNoteClrMenuPosition:m}},$=t(5861),nn=t(7757),en=t.n(nn),tn=[{white:["#fff","#000"]},{green:["hsl(146, 85%, 75%)","hsl(146, 85%, 15%)"]},{yellow:["hsl(58, 85%, 75%)","hsl(58, 85%, 15%)"]},{purple:["hsl(276, 85%, 75%)","hsl(276, 85%, 15%)"]},{red:["hsl(348, 85%, 75%)","hsl(348, 85%, 15%)"]}],rn=t(9661),on=t(3109),an=function(n){var e=n.clr,t=n.handleClick,r=(0,z.oe)().dark_theme,o=e[Object.keys(e)[0]][r?1:0],i=(0,v.useCallback)((function(n){return t(n,o,e)}),[e,o,t]);return(0,w.jsx)("div",{style:{background:o,width:"3rem",height:"3rem",borderRadius:"50%"},onClick:i})},sn=(0,v.memo)(an),cn=function(n){var e=n.styles,t=(0,Z.X)().setUser,r=mn(),o=r.menu,i=r.setEditNote,a=r.setNoteClrMenu,s=(0,v.useCallback)(function(){var n=(0,$.Z)(en().mark((function n(e,r,s){var c;return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.stopPropagation(),null!==o&&void 0!==o&&o.item){n.next=3;break}return n.abrupt("return");case 3:if(!o.item.bg.includes(r)){n.next=5;break}return n.abrupt("return");case 5:return(0,rn.default)("/api/v1/user/notes/".concat(null===o||void 0===o?void 0:o.item._id),(0,m.Z)((0,m.Z)({},o.item),{},{bg:s[Object.keys(s)[0]]})),n.next=8,(0,on.default)("/api/v1/user/notes");case 8:if(null!==(c=n.sent)&&void 0!==c&&c.notes){n.next=11;break}return n.abrupt("return");case 11:t((function(n){return(0,m.Z)((0,m.Z)({},n),{},{notes:c.notes})})),i((function(n){return(0,m.Z)((0,m.Z)({},n),{},{bg:s[Object.keys(s)[0]]})})),a&&a((function(n){return(0,m.Z)((0,m.Z)({},n),{},{item:(0,m.Z)((0,m.Z)({},n.item),{},{bg:s[Object.keys(s)[0]]})})}));case 14:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),[o,t,i,a]);return(0,w.jsx)(dn,{className:"clr-list",style:e,children:tn.map((function(n,e){return(0,w.jsx)(sn,{clr:n,handleClick:s},e)}))})},ln=(0,v.memo)(cn),dn=y.ZP.div(u||(u=(0,g.Z)(["\n   display:flex;\n   position:fixed;\n   flex-direction:row;\n   align-items:center;\n   justify-content:space-between;\n   gap:1rem;\n   z-index:3;\n   >div{\n      cursor:pointer;\n   }\n"]))),un=(0,v.createContext)({}),mn=function(){return(0,v.useContext)(un)},fn=(0,v.memo)((function(){(0,x.Z)({auth:!0});var n=(0,v.useState)({_id:"",title:"",content:"",bg:[]}),e=(0,f.Z)(n,2),t=e[0],r=e[1];b({_id:t._id});var o=(0,T.Z)().handleUpdateNote;K({eventType:"keyup",handler:function(){t._id&&o(t,r)},element:window}),G({eventType:"click",handler:function(){return o(t,r)},element:document.body});var i=(0,Q.Z)().handleChange,a=(0,v.useCallback)((function(n){i(n,r)}),[i]),s=W({element:document.querySelector(".overlay"),handler:function(){return d((function(n){return(0,m.Z)((0,m.Z)({},n),{},{enable:!1})}))},eventType:"click"}),c=s.menu,l=s.setNoteClrMenuPosition,d=s.setNoteClrMenu,u=(0,v.useMemo)((function(){return{note:t,setEditNote:r,handleNoteChange:a,menu:c,setNoteClrMenuPosition:l,setNoteClrMenu:d}}),[t,r,l,c,d,a]);return(0,w.jsxs)(h.Z,{styles:{height:"calc(100% - 5rem)",minHeight:"unset"},children:[(0,w.jsx)(p.Z,{mode:"create_note_container",children:(0,w.jsx)(S,{})}),(0,w.jsxs)(un.Provider,{value:u,children:[(0,w.jsx)(J,{}),(0,w.jsx)(B,{mode:"edit_note",children:(0,w.jsx)(P.Z,{condition:c.enable,children:(0,w.jsx)(ln,{styles:c.position})})}),(0,w.jsx)(P.Z,{condition:c.enable,children:(0,w.jsx)(ln,{styles:c.position})})]})]})}))},9482:function(n,e,t){t.d(e,{Z:function(){return g}});var r,o=t(168),i=t(1413),a=t(2791),s=t(5751),c=t(7042),l=t(8781),d=t(9719),u=t(184),m=(0,a.memo)((function(n){var e=n.cls,t="#".concat(Math.random().toString(16).slice(2,8));return(0,u.jsx)("span",{className:e,style:{background:t}})})),f=t(7894),v=t(8197),h=t(6310),p=t(6991),x=t(3439),b=t(178),g=(0,a.memo)((function(n){var e=n.note,t=n.styles,r=n.mode,o=void 0===r?"note.page":r,a=(0,f.useEditNoteCtx)().setNoteClrMenuPosition,s=(0,x.Z)(),g=s.loader,Z=s.handleDeleteNote;return(0,u.jsxs)(y,{id:e._id,style:(0,i.Z)({},t),className:"note",children:[(0,u.jsxs)(p.Z,{styles:{padding:"0.5rem 1rem",borderBottom:"var(--border)"},children:[(0,u.jsx)(m,{cls:"random_span"}),(0,u.jsx)(d.Z,{text:e.title,styles:{width:"100%"},cls:"note-title"})]}),(0,u.jsx)(p.Z,{styles:{overflow:"hidden",flex:"1",padding:"0.5rem 1rem"},children:(0,u.jsx)("p",{className:"note-content",children:e.content})}),(0,u.jsxs)(c.Z,{cls:"recycle.page"===o?"bin-note-menu":"",children:[(0,u.jsxs)(b.Z,{condition:"note.page"===o,children:[(0,u.jsx)(h.Z,{handleClick:function(n){a(n,e)},children:(0,u.jsx)(v.Z,{})}),(0,u.jsx)(l.Z,{mode:"delete_note_btn",handleClick:function(){return Z({_id:e._id})},loader:g})]}),(0,u.jsxs)(b.Z,{condition:"recycle.page"===o,children:[(0,u.jsx)(l.Z,{mode:"restore_btn",handleClick:function(){return Z({_id:e._id,MOVE_TO_BIN:!1,RESTORE:!0})},loader:g,text:"restore"}),(0,u.jsx)(l.Z,{mode:"delete_note_btn",handleClick:function(){return Z({_id:e._id,MOVE_TO_BIN:!1,RESTORE:!1})},loader:g})]})]})]})})),y=s.ZP.div(r||(r=(0,o.Z)(["\n    position:relative;\n    width:100%;\n    max-width:40rem;\n    height:20rem;\n\n    box-shadow:0 0.2rem 0.2rem rgba(0,0,0,0.2);\n\n    border-radius:0 0.5rem 0.5rem 0;\n    border:var(--note-border);\n\n    display:flex;\n    flex-direction:column;\n    /* animation:animate_note calc(0.3s  * var(--note-order)) ease-in; */\n\n    --note-menu-opacity:0;\n\n\n    /* title and content */\n    h3,p{\n        font-size:clamp(1.6rem,1.7rem,1.7vw);\n    }\n    h3{\n        text-align:center;\n    }\n    p{\n        opacity:0.8;\n        white-space:pre-line;\n        word-break:break-all;\n        width:100%;\n    }\n\n    /* random span at the left top of the note */\n    span.random_span{\n        position:absolute;\n        top:0;left:0;\n        width:5rem;\n        height:5rem;\n        border-radius:50%;\n        transform:translate(-50%, -50%);\n    }\n\n    @media (max-width:700px){\n        .overlay-menu{\n            display:none;\n        }\n        /* for bin page */\n        .bin-note-menu{\n            display:flex;\n        }\n    }\n\n    /* making the permanent delete and restore btn visible in bin page for every note */\n    .bin-note-menu{\n        --note-menu-opacity:1;\n    }\n    @media (min-width:700px){\n        --note-menu-opacity:0;\n        transition:all 0.3s;\n        &:hover{\n            box-shadow:var(--note-hover-shadow);\n            transform:translateY(-1rem);\n        }\n\n        div.overlay-menu {\n            height:4rem;\n            width:100%;\n            display:flex;\n            opacity:var(--note-menu-opacity);\n            pointer-events:none;\n        }\n        &:hover{\n            --note-menu-opacity:1;\n            div.overlay-menu{\n                pointer-events:all;\n            }\n        }\n    }\n\n    @keyframes animate_note{\n        0%{\n            transform: scale(0.8);\n            animation-timing-function: ease;\n        }\n        30%{\n            animation-timing-function: ease-in;\n            opacity: 1;\n            transform: scale(1.1);\n        }\n        60%{\n            animation-timing-function: ease-in;\n            transform: scale(0.9);\n        }\n        100%{  }\n}\n"])))},9249:function(n,e,t){var r=t(5861),o=t(8152),i=t(7757),a=t.n(i),s=t(2791),c=t(5404);e.Z=function(){var n=(0,c.X)().setUser,e=(0,s.useState)(!0),i=(0,o.Z)(e,2),l=i[0],d=i[1];return(0,s.useEffect)((function(){(0,r.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(t.bind(t,3109));case 3:return e.next=5,e.sent.default("/api/v1/user/notes");case 5:null!==(r=e.sent)&&void 0!==r&&r.notes&&n((function(n){return n.notes=r.notes,n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[n]),{loader:l}}},3439:function(n,e,t){var r=t(5861),o=t(1413),i=t(8152),a=t(7757),s=t.n(a),c=t(2791),l=t(5404),d=t(3109),u=t(142);e.Z=function(){var n=(0,c.useState)({title:"",content:""}),e=(0,i.Z)(n,2),a=e[0],m=e[1],f=(0,l.X)().setUser,v=(0,c.useState)(!1),h=(0,i.Z)(v,2),p=h[0],x=h[1],b=(0,c.useState)({err:""}),g=(0,i.Z)(b,2),y=g[0],Z=g[1],w=(0,c.useState)(!1),_=(0,i.Z)(w,2),j=_[0],k=_[1],C=(0,u.Z)().handleChange,E=(0,c.useCallback)((function(n){C(n,m)}),[C]);(0,c.useEffect)((function(){j&&(0,d.default)("/api/v1/user/notes").then((function(n){(null===n||void 0===n?void 0:n.notes)&&f((function(e){return(0,o.Z)((0,o.Z)({},e),{},{notes:n.notes})}))})).catch((function(n){return console.log(n)})).finally((function(){return k(!1)}))}),[j]),(0,c.useEffect)((function(){var n;return y.err&&(n=setTimeout((function(){return Z({err:""})}),3e3)),function(){return clearInterval(n)}}),[y]);var N=(0,c.useCallback)(function(){var n=(0,r.Z)(s().mark((function n(e){var r,o,i,a,c,l,d,u,m,f,v;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e._id,o=e.setEditNote,i=e.MOVE_TO_BIN,a=void 0===i||i,c=e.RESTORE,l=void 0!==c&&c,x(!0),n.next=4,t.e(385).then(t.bind(t,385));case 4:return d=n.sent,u=d.default,n.next=8,u("/api/v1/user/notes/".concat(r),a,l);case 8:(null===(m=n.sent)||void 0===m?void 0:m.success)&&k(!0),(o||a)&&(f=document.getElementById("modal"),v=f.parentElement,document.body.classList.remove("edit_mode"),setTimeout((function(){v.style.display="none",f.style.display="none",o&&o({title:"",content:"",_id:"",bg:[]})}),310)),x(!1);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),L=(0,c.useCallback)(function(){var n=(0,r.Z)(s().mark((function n(e,r){var o,i,a,c,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=document.getElementById("modal"),i=o.parentElement,document.body.classList.remove("edit_mode"),n.next=5,Promise.resolve().then(t.bind(t,9661));case 5:return a=n.sent,c=a.default,n.next=9,c("/api/v1/user/notes/".concat(e._id),e);case 9:(null===(l=n.sent)||void 0===l?void 0:l.success)&&k(!0),setTimeout((function(){if(i.style.display="none",o.style.display="none",e._id){var n=document.getElementById(e._id);n&&(n.style.opacity="1"),r&&r({title:"",content:"",_id:"",bg:[]})}}),320);case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[]),P=(0,c.useCallback)(function(){var n=(0,r.Z)(s().mark((function n(e){var r,o,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),e.stopPropagation(),x(!0),n.next=5,t.e(279).then(t.bind(t,8279));case 5:return r=n.sent,o=r.default,n.next=9,o(a);case 9:null!==(i=n.sent)&&void 0!==i&&i.error&&Z({err:i.error}),null!==i&&void 0!==i&&i.success&&(k(!0),m({title:"",content:""})),x(!1);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[a]);return{loader:p,setLoader:x,handleDeleteNote:N,handleUpdateNote:L,handleNoteSubmit:P,error:y,handleNoteChange:E,note:a}}},3109:function(n,e,t){t.r(e);var r=t(5861),o=t(7757),i=t.n(o),a=function(){var n=(0,r.Z)(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e);case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();e.default=a},9661:function(n,e,t){t.r(e);var r=t(5861),o=t(7757),i=t.n(o),a=function(){var n=(0,r.Z)(i().mark((function n(e,t){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=n.sent,n.next=6,r.json();case 6:return o=n.sent,n.abrupt("return",o);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}();e.default=a}}]);
//# sourceMappingURL=notepage.6a1bb029.chunk.js.map