"use strict";(self.webpackChunkts_mern_note_app_frontend=self.webpackChunkts_mern_note_app_frontend||[]).push([[394],{9406:function(n,e,r){var t,a=r(168),o=r(8152),i=r(2791),s=r(5751),u=r(184),l=(0,i.memo)((function(n){var e=n.children,r=(0,i.useState)(!1),t=(0,o.Z)(r,2),a=t[0],s=t[1];return(0,u.jsx)(c,{children:i.Children.map(e,(function(n){return"string"===typeof n.type?n:(0,i.cloneElement)(n,{focus:a,setFocus:s})}))})}));e.Z=l;var c=s.ZP.div(t||(t=(0,a.Z)(['\n    display:flex;\n    align-items:center;\n    width:100%;\n    position:relative;\n    margin-top:5rem;\n\n    /* giving margin on email form field */\n    &:nth-of-type(1){\n        margin-top:3rem;\n    }\n\n    label{\n        position:absolute;\n        top:50%;\n        left:0;\n        transform:translate(4rem, -50%);\n        pointer-events:none;\n        transition:all 0.25s;\n    }\n    .transform{\n        color:var(--transform-label-clr);\n        transform:translate(1rem, -230%);\n        font-size:clamp(1.4rem, 1.5rem, 1.5vw);\n    }\n\n    >img{\n        height:2rem;\n        position:absolute;\n        top:50%;\n        left: 0.5rem;\n        transform:translateY(-50%);\n    }\n\n    >input{\n        width:100%;\n        padding:1rem 5rem 1rem 4rem;\n    }\n    input[type="password"]{\n        padding-right:5rem;\n    }\n'])))},2984:function(n,e,r){var t,a,o=r(168),i=r(8152),s=r(2791),u=r(5751),l=r(5455),c=r(184);e.Z=function(n){var e=n.props,r=n.setFocus,t=n.focus,a=e.state,o=e.name,u=e.handleChanges,p=e.type,f=(0,s.useState)(p),h=(0,i.Z)(f,2),g=h[0],v=h[1],Z=(0,s.useCallback)((function(){r&&r(!0)}),[r]),x=(0,s.useCallback)((function(n){r&&r(n.target.value.length>0)}),[r]),b=(0,s.useCallback)((function(){v((function(n){return"password"===n?"text":"password"}))}),[]),w=(0,s.useMemo)((function(){return"password"===g?"./imgs/hide.png":"./imgs/show.png"}),[g]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.Z,{src:"./imgs/".concat(o,".avif"),alt:o}),(0,c.jsx)(m,{type:g,value:a,name:o,onChange:u,onFocus:Z,onBlur:x,autoFocus:"email"===o,title:"enter your credentails"}),"password"===p&&t&&(0,c.jsx)(d,{handleClick:b,img_src:w})]})};var m=u.ZP.input(t||(t=(0,o.Z)(["\n    border:none;\n    outline:none;\n    height:4rem;\n    background:var(--login-input-bg);\n    font-size:clamp(1.6rem, 1.7rem, 1.7vw);\n    border-radius:0.5rem;\n\n    &:hover{\n        background:var(--input-hover-bg) !important;\n    }\n"]))),d=(0,s.memo)((function(n){var e=n.handleClick,r=n.img_src;return(0,c.jsx)(p,{onClick:e,children:(0,c.jsx)(l.Z,{src:r,cls:"invert",alt:"toggle"})})})),p=u.ZP.div(a||(a=(0,o.Z)(["\n    position:absolute;\n    right:1rem;\n    top:50%;\n    transform:translateY(-50%);\n    cursor: pointer;\n    z-index:3;\n"])))},4373:function(n,e,r){var t,a=r(168),o=r(5751),i=r(184);e.Z=function(n){return(0,i.jsx)(s,{className:n.focus&&"transform",children:n.text})};var s=o.ZP.label(t||(t=(0,a.Z)(["\n    font-size:clamp(1.5rem, 1.6rem, 1.6vw);\n"])))},8094:function(n,e,r){var t,a=r(168),o=r(5751),i=r(184);e.Z=function(n){var e=n.error;return(0,i.jsx)(s,{children:e})};var s=o.ZP.p(t||(t=(0,a.Z)(["\n    color:red;\n    font-size:clamp(1.5rem,1.6rem,1.6vw);\n"])))},8956:function(n,e,r){var t,a,o,i,s,u=r(168),l=r(2791),c=r(5751),m=r(184),d=(0,l.memo)((function(n){var e=n.children,r=n.no_bg,t=n.mode,a=n.handleSubmit,o=n.styles,i=n.animate;return(0,m.jsx)(p,{onSubmit:function(n){n.preventDefault(),a&&a(n)},style:o,no_bg:r,mode:t,animate:i,children:e})}));e.Z=d;var p=c.ZP.form(t||(t=(0,u.Z)(["\n    height:45rem;\n    width:90%;\n    display:flex;\n    align-items:center;\n    flex-direction:column;\n    max-width:35rem;\n    background:var(--form-bg);\n\n    ","\n    ","\n    button{\n        margin-top:auto   //button will be at the bottom of the form\n    }\n\n    /* animate flag */\n    ","\n\n    @keyframes animate_form{\n        0%{\n            opacity:0;\n            transform:translateX(-100%);\n        }\n        50%{\n            transform:translateX(50%);\n        }\n    }\n\n"])),(function(n){var e=n.mode;return"login"===e||"register"===e?(0,c.iv)(a||(a=(0,u.Z)(["\n                margin: auto;\n                max-width:40rem;\n                margin-top:5rem;\n                border-radius:0.5rem;\n                box-shadow:0 0.3rem 0.3rem rgba(0,0,0,0.3);\n                padding:0 2rem 2rem 2rem;\n                //heading of the form\n                >h3{\n                    padding:1rem 0 2rem 0;\n                }\n                //containers of input and label\n                .div{\n                    padding:0 2rem;\n                    margin-top:2rem;\n                    width:100%;\n                    display:flex;\n                    justify-content:space-between;\n                    align-items:center;\n                }\n            "]))):"create_note"===e?(0,c.iv)(o||(o=(0,u.Z)(["\n                height:25rem;\n                @media (min-width:700px){\n                    height:50rem;\n                }\n            "]))):void 0}),(function(n){if(!0===n.no_bg)return(0,c.iv)(i||(i=(0,u.Z)(["\n            background:inherit;\n        "])))}),(function(n){if(n.animate)return(0,c.iv)(s||(s=(0,u.Z)(["\n                animation:animate_form 0.4s ease-in forwards;\n            "])))}))},9719:function(n,e,r){var t,a=r(168),o=r(2791),i=r(5751),s=r(184),u=(0,o.memo)((function(n){var e=n.text,r=n.styles,t=n.handleClick,a=n.cls;return(0,s.jsx)(l,{style:r,onClick:t,className:a,children:e})}));e.Z=u;var l=i.ZP.h3(t||(t=(0,a.Z)(["\n    font-size:2.2rem;\n    font-weight:500;\n"])))},142:function(n,e,r){var t=r(4942),a=r(1413);e.Z=function(){return{handleChange:function(n,e){e((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,t.Z)({},n.target.name,n.target.value))}))}}}},3211:function(n,e,r){var t=r(1413),a=r(5861),o=r(8152),i=r(7757),s=r.n(i),u=r(2791),l=r(9271),c=r(5404),m=r(142);e.Z=function(){var n=(0,u.useState)({email:"",password:""}),e=(0,o.Z)(n,2),r=e[0],i=e[1],d=(0,u.useState)({}),p=(0,o.Z)(d,2),f=p[0],h=p[1],g=(0,u.useState)(!1),v=(0,o.Z)(g,2),Z=v[0],x=v[1],b=(0,l.k6)(),w=(0,m.Z)().handleChange,y=(0,c.Xh)().setUser,j=(0,u.useCallback)((function(n){w(n,i)}),[w]),k=(0,u.useCallback)(function(){var n=(0,a.Z)(s().mark((function n(e,r){var t,a,o,i,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/v1/user/login",{method:"POST",body:JSON.stringify({email:e,password:r}),headers:{"Content-Type":"application/json"}});case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,o=a.errors,i=a._id,u=a.email,n.abrupt("return",{errors:o,_id:i,email_id:u});case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,r){return n.apply(this,arguments)}}(),[]),_=(0,u.useCallback)(function(){var n=(0,a.Z)(s().mark((function n(e,r){var a,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/v1/user",{method:"POST",body:JSON.stringify({email:e,password:r}),headers:{"Content-Type":"application/json"}});case 3:return a=n.sent,n.next=6,a.json();case 6:return o=n.sent,n.abrupt("return",(0,t.Z)({},o));case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,r){return n.apply(this,arguments)}}(),[]),C=(0,u.useCallback)(function(){var n=(0,a.Z)(s().mark((function n(e){var t,a,o,i,u,l=arguments;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=l.length>1&&void 0!==l[1]?l[1]:"login",e.preventDefault(),x(!0),"login"!==a){n.next=10;break}return n.next=6,k(r.email,r.password);case 6:o=n.sent,null!==(i=o)&&void 0!==i&&i._id&&(y({_id:o._id,email:o.email_id}),b.push("/")),n.next=15;break;case 10:return n.next=12,_(r.email,r.password);case 12:if(o=n.sent,null===(u=o)||void 0===u||!u._id){n.next=15;break}return n.abrupt("return",b.push("/login"));case 15:x(!1),(null===(t=o)||void 0===t?void 0:t.errors)&&h(o.errors);case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[r,b,_,k,y]);(0,u.useEffect)((function(){var n;return(f.email||f.err||f.password)&&(n=setTimeout((function(){return h({email:"",password:"",err:""})}),3e3)),function(){clearInterval(n)}}),[f]);var P=(0,u.useMemo)((function(){return{state:r.email,handleChanges:j,name:"email",type:"text"}}),[r.email,j]),S=(0,u.useMemo)((function(){return{state:r.password,handleChanges:j,name:"password",type:"password"}}),[r.password,j]);return{handleSubmit:C,loader:Z,errors:f,state:r,setState:i,handleChanges:j,EmailProps:P,PasswordProps:S}}},5709:function(n,e,r){r.r(e),r.d(e,{default:function(){return p}});var t=r(9406),a=r(2984),o=r(4373),i=r(8781),s=r(8094),u=r(8956),l=r(9719),c=r(3211),m=r(184),d=function(){var n=(0,c.Z)(),e=n.handleSubmit,r=n.loader,d=n.errors,p=n.EmailProps,f=n.PasswordProps;return(0,m.jsxs)(u.Z,{mode:"login",handleSubmit:e,animate:!0,children:[(0,m.jsx)(l.Z,{text:"Login",styles:{color:"var(--secondary-clr)"}}),(0,m.jsxs)(t.Z,{children:[(0,m.jsx)(o.Z,{text:"email"}),(0,m.jsx)(a.Z,{props:p})]}),(0,m.jsxs)(t.Z,{children:[(0,m.jsx)(o.Z,{text:"password"}),(0,m.jsx)(a.Z,{props:f})]}),d.email&&(0,m.jsx)(s.Z,{error:d.email}),d.password&&(0,m.jsx)(s.Z,{error:d.password}),d.err&&(0,m.jsx)(s.Z,{error:d.err}),(0,m.jsx)(i.Z,{text:"submit",mode:"login_btn",loader:r})]})},p=function(){return(0,m.jsx)(d,{})}}}]);
//# sourceMappingURL=loginpage.8c59ed1b.chunk.js.map