"use strict";(self.webpackChunkts_mern_note_app_frontend=self.webpackChunkts_mern_note_app_frontend||[]).push([[656],{1967:function(e,n,t){var r,i=t(168),o=t(2791),a=t(5751),s=t(184),l=(0,o.memo)((function(e){var n=e.children,t=e.styles,r=e.before_obj;return(0,s.jsx)(c,{style:t,before_obj:r,children:n})}));n.Z=l;var c=a.ZP.section(r||(r=(0,i.Z)(["\n    display:flex;\n    flex-direction:column;\n    flex-wrap:wrap;\n\n    @media (min-width:700px){\n        flex-direction:unset;\n    }\n"])))},6991:function(e,n,t){var r,i,o,a,s,l,c,u,d=t(168),m=t(2791),h=t(5751),f=t(184),v=(0,m.memo)((function(e){var n=e.children,t=e.styles,r=e.page,i=e.mode;return"edit_note"===i?(0,f.jsx)(g,{className:"edit_modal_wrapper",children:n}):"note_output"===r?(0,f.jsx)(x,{style:t,children:n}):(0,f.jsx)(p,{mode:i,style:t,className:i,children:n})}));n.Z=v;var p=h.ZP.section(r||(r=(0,d.Z)(["\n    display:flex;\n    overflow:hidden;\n    position:relative;\n\n    ","\n\n    img{\n        display:flex;\n        /* width:32rem; */\n        /* height:35rem; */\n        width:clamp(23rem, 28rem, 28vw);\n        height:clamp(28rem, 32rem, 32vw);\n        transform:rotate(-20deg) scale(0.8);\n        transform-origin:center;\n    }\n"])),(function(e){switch(e.mode){case"hero":return(0,h.iv)(i||(i=(0,d.Z)(["\n                width:100%;\n                align-items:center;\n                justify-content:center;\n                transform-origin:center;\n                flex-direction:column;\n                text-align:center;\n                padding:2rem;\n\n                @media (min-width:700px){\n                    width:50%;\n                }\n            "])));case"create_note_container":return(0,h.iv)(o||(o=(0,d.Z)(["\n                padding:2rem;\n                justify-content:center;\n                margin-bottom:3rem;\n                button{\n                    width:100%;\n                }\n\n                @media (min-width:700px){\n                    margin-bottom:0rem;\n                        border-right:var(--border);\n                        height:100%;\n                        position:fixed;\n                        width:var(--width);\n                    }\n            "])));case"notes_container_wrapper":return(0,h.iv)(a||(a=(0,d.Z)(["\n                flex-direction:column;\n                @media (min-width:700px){\n                    position:relative;\n                    left:var(--width);\n                    width:calc(100% - var(--width));\n                }\n            "])));case"notes_container":return(0,h.iv)(s||(s=(0,d.Z)(["\n                justify-content:center;\n                gap:3rem;\n                padding:2rem;\n                flex-wrap:wrap;\n                @media (min-width:700px){\n                    justify-content:space-around;\n                }\n            "])));default:return(0,h.iv)(l||(l=(0,d.Z)(["\n            "])))}})),x=h.ZP.section(c||(c=(0,d.Z)(["\n    display:flex;\n    justify-content:center;\n    gap:2rem;\n    flex-wrap:wrap;\n    padding:2rem;\n\n\n    @media (min-width:700px){\n        position:relative;\n        left:var(--width);\n        width:calc(100% - var(--width));\n        justify-content:space-around;\n    }\n"]))),g=h.ZP.section(u||(u=(0,d.Z)(["\n    width:100%;\n    height:100%;\n    top:0 !important;\n    inset:0;\n    position:fixed;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    background:var(--edit-modal-bg);\n    display:none;\n    border-radius:0.5rem;\n"])))},3282:function(e,n,t){var r,i=t(168),o=t(2791),a=t(5751),s=t(184),l=(0,o.memo)((function(e){var n=e.text,t=e.styles;return(0,s.jsx)(c,{style:t,children:n})}));n.Z=l;var c=a.ZP.p(r||(r=(0,i.Z)(["\n    font-size:clamp(1.8rem, 2rem ,2vw);\n    opacity:0.9;\n    white-space:pre-line;\n    word-break:break-all;\n    margin-top:1rem;\n    /* width:max-content; */\n"])))},8094:function(e,n,t){var r,i=t(168),o=t(5751),a=t(184);n.Z=function(e){var n=e.error;return(0,a.jsx)(s,{children:n})};var s=o.ZP.p(r||(r=(0,i.Z)(["\n    color:red;\n    font-size:clamp(1.5rem,1.6rem,1.6vw);\n"])))},8956:function(e,n,t){var r,i,o,a,s,l=t(168),c=t(2791),u=t(5751),d=t(184),m=(0,c.memo)((function(e){var n=e.children,t=e.no_bg,r=e.mode,i=e.handleSubmit,o=e.styles,a=e.animate;return(0,d.jsx)(h,{onSubmit:function(e){e.preventDefault(),i&&i(e)},style:o,no_bg:t,mode:r,animate:a,children:n})}));n.Z=m;var h=u.ZP.form(r||(r=(0,l.Z)(["\n    height:45rem;\n    width:90%;\n    display:flex;\n    align-items:center;\n    flex-direction:column;\n    max-width:35rem;\n    background:var(--form-bg);\n\n    ","\n    ","\n    button{\n        margin-top:auto   //button will be at the bottom of the form\n    }\n\n    /* animate flag */\n    ","\n\n    @keyframes animate_form{\n        0%{\n            opacity:0;\n            transform:translateX(-100%);\n        }\n        50%{\n            transform:translateX(50%);\n        }\n    }\n\n"])),(function(e){var n=e.mode;return"login"===n||"register"===n?(0,u.iv)(i||(i=(0,l.Z)(["\n                margin: auto;\n                max-width:40rem;\n                margin-top:5rem;\n                border-radius:0.5rem;\n                box-shadow:0 0.3rem 0.3rem rgba(0,0,0,0.3);\n                padding:0 2rem 2rem 2rem;\n                //heading of the form\n                >h3{\n                    padding:1rem 0 2rem 0;\n                }\n                //containers of input and label\n                .div{\n                    padding:0 2rem;\n                    margin-top:2rem;\n                    width:100%;\n                    display:flex;\n                    justify-content:space-between;\n                    align-items:center;\n                }\n            "]))):"create_note"===n?(0,u.iv)(o||(o=(0,l.Z)(["\n                height:25rem;\n                @media (min-width:700px){\n                    height:50rem;\n                }\n            "]))):void 0}),(function(e){if(!0===e.no_bg)return(0,u.iv)(a||(a=(0,l.Z)(["\n            background:inherit;\n        "])))}),(function(e){if(e.animate)return(0,u.iv)(s||(s=(0,l.Z)(["\n                animation:animate_form 0.4s ease-in forwards;\n            "])))}))},9719:function(e,n,t){var r,i=t(168),o=t(2791),a=t(5751),s=t(184),l=(0,o.memo)((function(e){var n=e.text,t=e.styles,r=e.handleClick;return(0,s.jsx)(c,{style:t,onClick:r,children:n})}));n.Z=l;var c=a.ZP.h3(r||(r=(0,i.Z)(["\n    font-size:2.2rem;\n    font-weight:500;\n"])))},2296:function(e,n,t){var r=t(1413),i=t(5861),o=t(7757),a=t.n(o),s=t(2791),l=t(9271),c=t(5404);n.Z=function(e){var n=e.auth,o=void 0!==n&&n,u=(0,c.Xh)().setUser,d=(0,l.k6)();(0,s.useEffect)((function(){(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(769).then(t.bind(t,769));case 2:return e.next=4,e.sent.default();case 4:n=e.sent,(o&&null!==n&&void 0!==n&&n._id||(null===n||void 0===n?void 0:n._id))&&u((function(e){return(0,r.Z)((0,r.Z)({},e),{},{_id:n._id,email:null===n||void 0===n?void 0:n.email})})),o&&(null===n||void 0===n||!n._id)&&d.push("/login");case 7:case"end":return e.stop()}}),e)})))()}),[u,d,o])}},5969:function(e,n,t){var r=t(4942),i=t(1413);n.Z=function(){return{handleChange:function(e,n){n((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,r.Z)({},e.target.name,e.target.value))}))}}}},3597:function(e,n,t){t.r(n),t.d(n,{default:function(){return ve},useEditNoteCtx:function(){return fe}});var r,i,o,a,s,l,c,u,d,m,h,f,v=t(1413),p=t(8152),x=t(2791),g=t(1967),b=t(6991),y=t(2296),w=function(e){var n=e._id,t=(0,x.useRef)(n);(0,x.useEffect)((function(){t.current=n}),[n]);var r=(0,x.useCallback)((function(e){if(e){var n=document.getElementById("modal"),t=n.parentElement,r=document.getElementById(e).getBoundingClientRect(),i=r.top,o=r.left,a=r.width,s=r.height;n.style.top=i+"px",n.style.left=o+"px",n.style.width=a+"px",n.style.height=s+"px",t.style.display="flex",n.style.display="flex",setTimeout((function(){return document.body.classList.add("edit_mode")}),20)}}),[t]);return(0,x.useEffect)((function(){r(t.current)}),[n]),{enableEditModal:r}},Z=t(168),j=t(5751),_=t(5404),k=t(184),C=(0,x.memo)((function(e){var n=e.placeholder,t=e.name,r=e.value,i=e.handleChange,o=e.mode,a=e.type,s=(0,_.Xh)().setSearch;return(0,k.jsx)(E,{type:"search"===a?"search":"text",name:t,value:r,mode:o,onChange:function(e){"search"===t?s(e.target.value):i&&i(e)},placeholder:n})})),E=j.ZP.input(r||(r=(0,Z.Z)(["\n    font-size:clamp(1.6rem,1.7rem,1.7vw);\n    border:none;\n    padding:0 1rem;\n    height:3.5rem;\n    background:var(--input-bg);\n    outline:none;\n\n    ","\n    border-radius:0.3rem;\n    outline:var(--border);\n"])),(function(e){switch(e.mode){case"edit_note":return(0,j.iv)(i||(i=(0,Z.Z)(["\n                background:inherit;\n                "])));case"note_title":return(0,j.iv)(o||(o=(0,Z.Z)(["\n                width:100%;\n                &:hover{  background: var(--input-hover-bg);  }\n                "])));default:return(0,j.iv)(a||(a=(0,Z.Z)(["\n            &:hover{  background: var(--input-hover-bg);  }\n            "])))}})),L=t(8781),N=t(8094),P=t(8956),S=function(e){var n=e.value,t=e.handleChange,r=e.placeholder,i=e.name,o=e.styles,a=e.hover_bg;return(0,k.jsx)(T,{name:i,value:n,placeholder:r,style:o,hover_bg:a,onChange:function(e){return t&&t(e)}})},T=j.ZP.textarea(s||(s=(0,Z.Z)(["\n    width:100%;\n    height:15rem;\n    @media (min-width:700px){\n        flex:1;\n    }\n    margin-bottom:2rem;\n    resize:none;\n    margin-top:1rem;\n    font-size:clamp(1.6rem,1.7rem,1.7vw);\n    border:none;\n    padding:0.5rem 1rem;\n    background:var(--input-bg);\n    outline:var(--border);\n    border-radius:0.3rem;\n    ","\n\n"])),(function(e){if(e.hover_bg)return(0,j.iv)(l||(l=(0,Z.Z)(["\n                &:hover{  background: var(--input-hover-bg);  }\n            "])))})),z=t(5861),M=t(7757),D=t.n(M),X=t(3109),B=t(5969),R=function(){var e=(0,x.useState)({title:"",content:""}),n=(0,p.Z)(e,2),r=n[0],i=n[1],o=(0,_.Xh)().setUser,a=(0,x.useState)(!1),s=(0,p.Z)(a,2),l=s[0],c=s[1],u=(0,x.useState)({err:""}),d=(0,p.Z)(u,2),m=d[0],h=d[1],f=(0,x.useState)(!1),g=(0,p.Z)(f,2),b=g[0],y=g[1],w=(0,B.Z)().handleChange,Z=(0,x.useCallback)((function(e){w(e,i)}),[w]);(0,x.useEffect)((function(){b&&((0,X.default)("/api/v1/user/notes").then((function(e){(null===e||void 0===e?void 0:e.notes)&&o((function(n){return(0,v.Z)((0,v.Z)({},n),{},{notes:e.notes})}))})),y(!1))}),[b,o]),(0,x.useEffect)((function(){var e;return m.err&&(e=setTimeout((function(){return h({err:""})}),3e3)),function(){return clearInterval(e)}}),[m]);var j=(0,x.useCallback)(function(){var e=(0,z.Z)(D().mark((function e(n,r){var i,o,a,s,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,t.e(385).then(t.bind(t,385));case 3:return i=e.sent,o=i.default,e.next=7,o("/api/v1/user/notes/".concat(n));case 7:null!==(a=e.sent)&&void 0!==a&&a.success&&y(!0),s=document.getElementById("modal"),l=s.parentElement,document.body.classList.remove("edit_mode"),setTimeout((function(){l.style.display="none",s.style.display="none",r&&r({title:"",content:"",_id:"",bg:[]})}),310);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),k=(0,x.useCallback)(function(){var e=(0,z.Z)(D().mark((function e(n,r){var i,o,a,s,l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=document.getElementById("modal"),o=i.parentElement,document.body.classList.remove("edit_mode"),setTimeout((function(){o.style.display="none",i.style.display="none",r&&r({title:"",content:"",_id:"",bg:[]})}),310),e.next=6,Promise.resolve().then(t.bind(t,9661));case 6:return a=e.sent,s=a.default,e.next=10,s("/api/v1/user/notes/".concat(n._id),n);case 10:(null===(l=e.sent)||void 0===l?void 0:l.success)&&y(!0);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),C=(0,x.useCallback)(function(){var e=(0,z.Z)(D().mark((function e(n){var o,a,s;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c(!0),e.next=4,t.e(279).then(t.bind(t,8279));case 4:return o=e.sent,a=o.default,e.next=8,a(r);case 8:null!==(s=e.sent)&&void 0!==s&&s.error&&h({err:s.error}),null!==s&&void 0!==s&&s.success&&(y(!0),i({title:"",content:""})),c(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[r]);return{loader:l,setLoader:c,handleDeleteNote:j,handleUpdateNote:k,handleNoteSubmit:C,error:m,handleNoteChange:Z,note:r}},I=(0,x.memo)((function(){var e=R(),n=e.loader,t=e.error,r=e.handleNoteSubmit,i=e.handleNoteChange,o=e.note;return(0,k.jsxs)(P.Z,{no_bg:!0,handleSubmit:r,mode:"create_note",children:[(0,k.jsx)(C,{type:"title",placeholder:"note title...",name:"title",value:o.title,handleChange:i,mode:"note_title"}),(0,k.jsx)(S,{name:"content",value:o.content,handleChange:i,placeholder:"type your notes....",hover_bg:!0}),t.err&&(0,k.jsx)(N.Z,{error:t.err}),(0,k.jsx)(L.Z,{text:"create a new note",mode:"create_note_btn",loader:n})]})})),U=function(e){var n=e.children;return(0,k.jsx)(H,{className:"overlay-menu",children:n})},H=j.ZP.div(c||(c=(0,Z.Z)(["\n    display:flex;\n    align-items:center;\n    justify-content:space-around;\n    flex-direction:row;\n"]))),O=function(e){var n=e.children,t=(e.tooltip_text,e.handleClick);return(0,k.jsx)(A,{onClick:t,children:n})},A=j.ZP.div(u||(u=(0,Z.Z)(["\n    position:relative;\n    overflow:none;\n    cursor: pointer;\n\n    >p{\n        /* display:none; */\n        position:absolute;\n        top:100%;\n        pointer-events:none;\n        opacity:0;\n        pointer-events:none;\n        font-size:clamp(1.3rem, 1.4rem, 1.4vw);\n    }\n\n    &:hover{\n        >p{        //displaying tooltip text on hover\n            animation:show 3s ease both;\n        }\n    }\n    .clr-list{\n        opacity:0;\n        pointer-events:none;\n    }\n\n    &:focus-within, &:focus{\n        .clr-list{\n            opacity:1;\n            pointer-events:all;\n        }\n    }\n\n"]))),q=function(){var e=(0,_.oe)().dark_theme;return(0,k.jsx)("div",{children:(0,k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e?"hsl(0, 0%, 80%)":"hsl(0, 0%, 10%)",children:[(0,k.jsx)("path",{d:"M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67A2.5 2.5 0 0 1 12 22zm0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5a.54.54 0 0 0-.14-.35c-.41-.46-.63-1.05-.63-1.65a2.5 2.5 0 0 1 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7z"}),(0,k.jsx)("circle",{cx:"6.5",cy:"11.5",r:"1.5"}),(0,k.jsx)("circle",{cx:"9.5",cy:"7.5",r:"1.5"}),(0,k.jsx)("circle",{cx:"14.5",cy:"7.5",r:"1.5"}),(0,k.jsx)("circle",{cx:"17.5",cy:"11.5",r:"1.5"})]})})},F=(0,x.memo)((function(e){var n=e.mode,t=fe(),r=t.note,i=t.handleNoteChange,o=(0,x.useContext)(_.zg).dark_theme,a=R(),s=a.loader,l=a.handleDeleteNote,c=fe().setMenuDetails;return"edit_note"===n?(0,k.jsx)(b.Z,{mode:n,children:(0,k.jsxs)(J,{id:"modal",className:"edit_modal",style:{background:o?r.bg[1]:r.bg[0]},children:[(0,k.jsx)(C,{name:"title",value:r.title,handleChange:i,mode:"edit_note"}),(0,k.jsx)(S,{name:"content",value:r.content,handleChange:i,styles:{background:"inherit"}}),(0,k.jsxs)(U,{children:[(0,k.jsx)(O,{handleClick:function(e){c&&c(e,r)},children:(0,k.jsx)(q,{})}),(0,k.jsx)(L.Z,{mode:"delete_note_btn",handleClick:function(){return l(r._id)},loader:s})]})]})}):(0,k.jsx)(k.Fragment,{})})),J=j.ZP.div(d||(d=(0,Z.Z)(["\n    height:40rem;\n    width:100%;\n    max-width:60%;\n    border-radius:0.5rem;\n    transition:all 0.3s linear;\n    background:var(--modal-bg);\n    position:fixed;\n    overflow:hidden;\n    box-shadow:0 0.3rem 1rem rgba(0, 0, 0, 0.4);\n    flex-direction:column;\n\n    textarea{\n        flex:1;\n    }\n\n    input,textarea{\n        margin-top:0;\n        border:none !important;\n        outline:none;\n        border-radius:0;\n        font-size:clamp(1.6rem,1.7rem, 1.7vw);\n        /* background:white; */\n        &:focus{\n            background:inherit;\n        }\n    }\n    input{\n        text-align:center ;\n        font-weight:500;\n    }\n\n    .btns{\n        margin-top:auto;\n        display:flex;\n        justify-content:space-between;\n        flex-direction:row;\n        padding:2rem;\n    }\n    .save_btn{\n        background:var(--save-btn-bg);\n    }\n    .delete_btn{\n        background:var(--delete-btn-bg);\n    }\n"]))),Y=(0,x.memo)((function(e){var n=e.children;return(0,k.jsx)(G,{children:n})})),G=j.ZP.div(m||(m=(0,Z.Z)(["\n    display:flex;\n    align-items:center;\n    justify-content:space-around;\n    padding:1rem;\n    border-bottom:var(--border);\n"]))),K=t(3282),Q=t(9719),V=function(e){var n=e.children;return(0,k.jsx)(b.Z,{styles:{height:"90vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:n})},W=(0,x.memo)((function(e){var n=e.cls,t="#".concat(Math.random().toString(16).slice(2,8));return(0,k.jsx)("span",{className:n,style:{background:t}})})),$=(0,x.memo)((function(e){var n=e.note,t=e.styles,r=fe(),i=r.setEditNote,o=r.note,a=r.setMenuDetails,s=R(),l=s.loader,c=s.handleDeleteNote,u=(0,x.useState)(1),d=(0,p.Z)(u,2),m=d[0],h=d[1],f=(0,x.useCallback)((function(){i(n),h(0)}),[i,n]);return(0,x.useEffect)((function(){!o._id&&h(1)}),[o]),(0,k.jsxs)(ee,{id:n._id,style:(0,v.Z)((0,v.Z)({},t),{},{opacity:m,animation:!m&&""}),className:"note",children:[(0,k.jsxs)(b.Z,{children:[(0,k.jsx)(W,{cls:"random_span"}),(0,k.jsx)(Q.Z,{text:n.title,styles:{width:"100%"},handleClick:f})]}),(0,k.jsx)(b.Z,{styles:{overflow:"hidden",height:"60%"},children:(0,k.jsx)("p",{onClick:f,children:n.content})}),(0,k.jsxs)(U,{children:[(0,k.jsx)(O,{handleClick:function(e){a&&a(e,n)},children:(0,k.jsx)(q,{})}),(0,k.jsx)(L.Z,{mode:"delete_note_btn",handleClick:function(){return c(n._id)},loader:l})]})]})})),ee=j.ZP.div(h||(h=(0,Z.Z)(["\n    width:100%;\n    max-width:40rem;\n    height:20rem;\n    border-radius:1rem;\n    box-shadow:0 0.3rem 0.5rem rgba(0,0,0,0.1);\n    position:relative;\n    border:var(--note-border);\n    animation:animate_note calc(0.4s  * var(--note-order)) ease-in;\n\n\n    /* title and content */\n    h3,p{\n        font-size:clamp(1.6rem,1.7rem,1.7vw);\n        padding:0.5rem;\n    }\n    h3{\n        border-bottom:var(--border);\n        font-weight:400;\n        text-align:center;\n        width:100%;\n    }\n    p{\n        opacity:0.8;\n        white-space:pre-line;\n        word-break:break-all;\n        text-overflow:ellipsis;\n        height:100%;\n        width:100%;\n    }\n\n    /* random span at the left top of the note */\n    span.random_span{\n        position:absolute;\n        top:0;left:0;\n        width:5rem;\n        height:5rem;\n        border-radius:50%;\n        transform:translate(-50%, -50%);\n    }\n\n    @media (max-width:700px){\n        .overlay-menu{\n            display:none;\n        }\n    }\n    @media (min-width:700px){\n        div.overlay-menu {\n            height:4rem;\n            width:100%;\n            display:flex;\n            opacity:0;\n            pointer-events:none;\n        }\n        &:hover{\n            div.overlay-menu{\n                opacity:1;\n                pointer-events:all;\n            }\n        }\n    }\n\n    @keyframes animate_note{\n        0%{\n            transform: scale(0.8);\n            animation-timing-function: ease;\n            /* background:var(--secondary-clr); */\n        }50%{\n            animation-timing-function: ease-in;\n            opacity: 1;\n            transform: scale(1.1);\n        }100%{\n            /* animation-timing-function: ease-out;\n            opacity: 1;\n            transform: scale(1); */\n        }\n}\n"]))),ne=function(){var e=(0,_.Xh)().setUser,n=(0,x.useState)(!0),r=(0,p.Z)(n,2),i=r[0],o=r[1];return(0,x.useEffect)((function(){(0,z.Z)(D().mark((function n(){var r;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.resolve().then(t.bind(t,3109));case 3:return n.next=5,n.sent.default("/api/v1/user/notes");case 5:null!==(r=n.sent)&&void 0!==r&&r.notes&&e((function(e){return(0,v.Z)((0,v.Z)({},e),{},{notes:r.notes})})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:o(!1);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()}),[e]),{loader:i}},te=t(4268),re=(0,x.memo)((function(){var e,n,t,r=ne().loader,i=(0,_.Xh)(),o=i.user,a=i.search,s=(0,_.oe)().dark_theme,l=null===a||void 0===a?void 0:a.trim().toLowerCase(),c=(0,x.useCallback)((function(e){return e.title.trim().toLowerCase().includes(l)||e.content.trim().toLowerCase().includes(l)}),[l]);return(0,k.jsxs)(b.Z,{mode:"notes_container_wrapper",children:[0!==(null===(e=o.notes)||void 0===e?void 0:e.length)?(0,k.jsxs)(Y,{children:[(0,k.jsx)(Q.Z,{text:"Your notes"}),(0,k.jsx)(C,{type:"search",name:"search",placeholder:"search your notes..."})]}):(0,k.jsxs)(V,{children:[(0,k.jsx)(Q.Z,{text:"Haven't created any notes?"}),(0,k.jsx)(K.Z,{text:"Then let's get started. "})]}),0!==(null===(n=o.notes)||void 0===n?void 0:n.length)&&(0,k.jsx)(b.Z,{mode:"notes_container",styles:{minHeight:"calc(100vh - 2 * var(--header-height))"},children:r?(0,k.jsx)(te.Z,{size:"big"}):null===(t=o.notes)||void 0===t?void 0:t.map((function(e,n){return(0,k.jsx)($,{note:e,styles:{"--note-order":n+1,background:s?e.bg[1]:e.bg[0],display:c(e)?"block":"none"}},e._id)}))})]})})),ie=function(e){var n=e.eventType,t=e.handler,r=e.element,i=void 0===r?window:r,o=(0,x.useRef)(t);(0,x.useEffect)((function(){o.current=t}),[t]),(0,x.useEffect)((function(){var e=function(e){e.target.classList.contains("edit_modal_wrapper")&&document.body.classList.contains("edit_mode")&&o.current()};return null===i||void 0===i||i.addEventListener(n,e,!1),function(){null===i||void 0===i||i.removeEventListener(n,e,!1)}}),[n])},oe=function(e){var n=e.eventType,t=e.handler,r=e.element,i=(0,x.useRef)(t);(0,x.useEffect)((function(){i.current=t}),[t]),(0,x.useEffect)((function(){var e=function(e){return"Escape"===e.key&&i.current()};return null===r||void 0===r||r.addEventListener(n,e),function(){return null===r||void 0===r?void 0:r.removeEventListener(n,e)}}),[n,r])},ae=function(e){var n=e.element,t=e.element2,r=void 0===t?window:t,i=e.handler,o=e.eventType,a=e.eventType2,s=void 0===a?"keyup":a,l=(0,x.useState)({enable:!1,item:{title:"",content:"",bg:[],_id:""},position:{top:"",left:""}}),c=(0,p.Z)(l,2),u=c[0],d=c[1],m=(0,x.useCallback)((function(e,t){var r=e.currentTarget.getBoundingClientRect(),i=r.top,o=r.left;d({enable:!0,position:{top:i+20+"px",left:o+20+"px"},item:t}),n.classList.add("show_overlay")}),[]),h=(0,x.useRef)(i);return(0,x.useEffect)((function(){h.current=i}),[i]),(0,x.useEffect)((function(){var e=function(e){e.target.classList.contains("overlay")&&(h.current(),n.classList.remove("show_overlay"))},t=function(e){"Escape"===e.key&&(h.current(),n.classList.remove("show_overlay"))};return u.enable&&(null===n||void 0===n||n.addEventListener(o,e,!1)),u.enable&&(null===r||void 0===r||r.addEventListener(s,t,!1)),!u.enable&&(null===n||void 0===n||n.removeEventListener(o,e,!1)),!u.enable&&(null===r||void 0===r||r.removeEventListener(s,t,!1)),function(){null===n||void 0===n||n.removeEventListener(o,e,!1),null===r||void 0===r||r.removeEventListener(s,t,!1)}}),[o,u.enable]),{setMenu:d,menu:u,setMenuDetails:m}},se=[{white:["#fff","#000"]},{green:["hsl(146, 85%, 75%)","hsl(146, 85%, 15%)"]},{yellow:["hsl(58, 85%, 75%)","hsl(58, 85%, 15%)"]},{purple:["hsl(276, 85%, 75%)","hsl(276, 85%, 15%)"]},{red:["hsl(348, 85%, 75%)","hsl(348, 85%, 15%)"]}],le=t(9661),ce=(0,x.memo)((function(e){var n=e.styles,t=(0,_.Xh)().setUser,r=fe(),i=r.menu,o=r.setEditNote,a=r.setMenu,s=(0,x.useCallback)(function(){var e=(0,z.Z)(D().mark((function e(n,r,s){var l;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),null!==i&&void 0!==i&&i.item){e.next=3;break}return e.abrupt("return");case 3:if(!i.item.bg.includes(r)){e.next=5;break}return e.abrupt("return");case 5:return(0,le.default)("/api/v1/user/notes/".concat(null===i||void 0===i?void 0:i.item._id),(0,v.Z)((0,v.Z)({},i.item),{},{bg:s[Object.keys(s)[0]]})),e.next=8,(0,X.default)("/api/v1/user/notes");case 8:if(null!==(l=e.sent)&&void 0!==l&&l.notes){e.next=11;break}return e.abrupt("return");case 11:t((function(e){return(0,v.Z)((0,v.Z)({},e),{},{notes:l.notes})})),o((function(e){return(0,v.Z)((0,v.Z)({},e),{},{bg:s[Object.keys(s)[0]]})})),a&&a((function(e){return(0,v.Z)((0,v.Z)({},e),{},{item:(0,v.Z)((0,v.Z)({},e.item),{},{bg:s[Object.keys(s)[0]]})})}));case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),[i,t,o,a]);return(0,k.jsx)(me,{className:"clr-list",style:n,children:se.map((function(e,n){return(0,k.jsx)(de,{clr:e,handleClick:s},n)}))})})),ue=ce,de=(0,x.memo)((function(e){var n=e.clr,t=e.handleClick,r=(0,_.oe)().dark_theme,i=n[Object.keys(n)[0]][r?1:0],o=(0,x.useCallback)((function(e){return t(e,i,n)}),[n,i,t]);return(0,k.jsx)("div",{style:{background:i,width:"3rem",height:"3rem",borderRadius:"50%"},onClick:o})})),me=j.ZP.div(f||(f=(0,Z.Z)(["\n   display:flex;\n   position:fixed;\n   flex-direction:row;\n   align-items:center;\n   justify-content:space-between;\n   gap:1rem;\n   z-index:3;\n   >div{\n      cursor:pointer;\n   }\n"]))),he=(0,x.createContext)({}),fe=function(){return(0,x.useContext)(he)},ve=(0,x.memo)((function(){(0,y.Z)({auth:!0});var e=(0,x.useState)({_id:"",title:"",content:"",bg:[]}),n=(0,p.Z)(e,2),t=n[0],r=n[1];w({_id:t._id});var i=R().handleUpdateNote;oe({eventType:"keyup",handler:function(){return i(t,r)},element:window}),ie({eventType:"click",handler:function(){return i(t,r)},element:document.body});var o=(0,B.Z)().handleChange,a=(0,x.useCallback)((function(e){o(e,r)}),[o]),s=ae({element:document.querySelector(".overlay"),handler:function(){return u((function(e){return(0,v.Z)((0,v.Z)({},e),{},{enable:!1})}))},eventType:"click"}),l=s.menu,c=s.setMenuDetails,u=s.setMenu;return(0,k.jsxs)(g.Z,{styles:{height:"calc(100% - 5rem)",minHeight:"unset"},children:[(0,k.jsx)(b.Z,{mode:"create_note_container",children:(0,k.jsx)(I,{})}),(0,k.jsxs)(he.Provider,{value:{note:t,setEditNote:r,handleNoteChange:a,menu:l,setMenuDetails:c,setMenu:u},children:[(0,k.jsx)(re,{}),(0,k.jsx)(F,{mode:"edit_note",children:l.enable&&(0,k.jsx)(ue,{styles:l.position})}),l.enable&&(0,k.jsx)(ue,{styles:l.position})]})]})}))},3109:function(e,n,t){t.r(n);var r=t(5861),i=t(7757),o=t.n(i),a=function(){var e=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}();n.default=a},9661:function(e,n,t){t.r(n);var r=t(5861),i=t(7757),o=t.n(i),a=function(){var e=(0,r.Z)(o().mark((function e(n,t){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return i=e.sent,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}();n.default=a}}]);
//# sourceMappingURL=notepage.02daaab1.chunk.js.map