"use strict";(self.webpackChunkts_mern_note_app_frontend=self.webpackChunkts_mern_note_app_frontend||[]).push([[709],{9406:function(n,e,r){var t,a=r(168),s=r(8152),o=r(2791),i=r(5751),u=r(184),l=(0,o.memo)((function(n){var e=n.children,r=(0,o.useState)(!1),t=(0,s.Z)(r,2),a=t[0],i=t[1];return(0,u.jsx)(c,{children:o.Children.map(e,(function(n){return"string"===typeof n.type?n:(0,o.cloneElement)(n,{focus:a,setFocus:i})}))})}));e.Z=l;var c=i.ZP.div(t||(t=(0,a.Z)(["\n    display:flex;\n    align-items:center;\n    width:100%;\n    position:relative;\n    margin-top:5rem;\n    /* box-shadow:0 0.1rem 0.3rem rgba(0, 0, 0, 0.5); */\n\n    /* giving margin on email form field */\n    &:nth-of-type(1){\n        margin-top:3rem;\n    }\n\n    label{\n        position:absolute;\n        top:50%;\n        left:0;\n        transform:translate(4rem, -50%);\n        pointer-events:none;\n        transition:all 0.25s;\n    }\n    .transform{\n        color:var(--transform-label-clr);\n        transform:translate(1rem, -230%);\n        font-size:clamp(1.4rem, 1.5rem, 1.5vw);\n    }\n\n    >img{\n        height:2.5rem;\n        position:absolute;\n        top:50%;\n        left: 0.5rem;\n        transform:translateY(-50%);\n    }\n\n    >input{\n        width:100%;\n        padding:1rem 0.5rem 1rem 4rem;\n    }\n"])))},2984:function(n,e,r){var t,a=r(168),s=r(5751),o=r(5455),i=r(184);e.Z=function(n){var e=n.props,r=n.setFocus,t=e.state,a=e.name,s=e.handleChange;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{src:"./imgs/".concat(a,".avif"),alt:a}),(0,i.jsx)(u,{type:"text",value:t,name:a,onChange:function(n){return s(n)},onFocus:function(){return r&&r(!0)},onBlur:function(n){r&&r(n.target.value.length>0)}})]})};var u=s.ZP.input(t||(t=(0,a.Z)(["\n    border:none;\n    outline:none;\n    padding:0.5rem 1rem;\n    background:var(--focused) !important;\n    font-size:clamp(1.5rem, 1.6rem, 1.6vw);\n"])))},4373:function(n,e,r){var t,a=r(168),s=r(5751),o=r(184);e.Z=function(n){return(0,o.jsx)(i,{className:n.focus&&"transform",children:n.text})};var i=s.ZP.label(t||(t=(0,a.Z)(["\n    font-size:clamp(1.5rem, 1.6rem, 1.6vw);\n"])))},5709:function(n,e,r){r.r(e),r.d(e,{default:function(){return b}});var t=r(4942),a=r(1413),s=r(5861),o=r(8152),i=r(7757),u=r.n(i),l=r(2791),c=r(9271),m=r(9406),p=r(2984),d=r(4373),f=r(8142),v=r(8094),h=r(8956),x=r(9719),Z=r(5404),g=r(184),w=function(){var n=(0,l.useState)({email:"",password:""}),e=(0,o.Z)(n,2),r=e[0],i=e[1],w=(0,l.useState)({}),b=(0,o.Z)(w,2),_=b[0],k=b[1],y=(0,Z.ZP)().setUser,C=(0,c.k6)(),S=(0,l.useState)(!1),F=(0,o.Z)(S,2),P=F[0],z=F[1],T=(0,l.useCallback)(function(){var n=(0,s.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),z(!0),n.next=4,j(r.email,r.password);case 4:null!==(t=n.sent)&&void 0!==t&&t._id&&(y({_id:t._id,email:t.email_id}),C.push("/")),z(!1),(null===t||void 0===t?void 0:t.errors)&&k(t.errors),(null===t||void 0===t?void 0:t.error)&&k({email:"",password:"",err:t.error});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[r,y,C]),E=(0,l.useCallback)((function(n){i((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,t.Z)({},n.target.name,n.target.value))}))}),[]);(0,l.useEffect)((function(){var n=_&&setTimeout((function(){return k({email:"",password:"",err:""})}),3e3);return function(){clearInterval(n)}}),[_]);var M=(0,l.useMemo)((function(){return{state:r.email,handleChange:E,name:"email"}}),[r.email,E]),N=(0,l.useMemo)((function(){return{state:r.password,handleChange:E,name:"password"}}),[r.password,E]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(h.Z,{mode:"login",handleSubmit:T,children:[(0,g.jsx)(x.Z,{text:"Login"}),(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(d.Z,{text:"email"}),(0,g.jsx)(p.Z,{props:M})]}),(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(d.Z,{text:"password"}),(0,g.jsx)(p.Z,{props:N})]}),_.email&&(0,g.jsx)(v.Z,{error:_.email}),_.password&&(0,g.jsx)(v.Z,{error:_.password}),_.err&&(0,g.jsx)(v.Z,{error:_.err}),(0,g.jsx)(f.Z,{text:"submit",mode:"login_btn",loader:P})]})})},j=function(){var n=(0,s.Z)(u().mark((function n(e,r){var t,a,s,o,i,l;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/v1/user/login",{method:"POST",body:JSON.stringify({email:e,password:r}),headers:{"Content-Type":"application/json"}});case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,s=a.errors,o=a.error,i=a._id,l=a.email,n.abrupt("return",{errors:s,error:o,_id:i,email_id:l});case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,r){return n.apply(this,arguments)}}(),b=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(w,{})})}}}]);
//# sourceMappingURL=709.9553d108.chunk.js.map